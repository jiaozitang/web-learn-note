{"version":3,"file":"bundle.js","sources":["../src/lib/util.js","../src/lib/element.js","../src/index.js"],"sourcesContent":["var _ = exports\n\n_.type = function (obj) {\n  return Object.prototype.toString.call(obj).replace(/\\[object\\s|\\]/g, '')\n}\n\n_.isArray = function isArray (list) {\n  return _.type(list) === 'Array'\n}\n\n_.slice = function slice (arrayLike, index) {\n  return Array.prototype.slice.call(arrayLike, index)\n}\n\n_.truthy = function truthy (value) {\n  return !!value\n}\n\n_.isString = function isString (list) {\n  return _.type(list) === 'String'\n}\n\n_.each = function each (array, fn) {\n  for (var i = 0, len = array.length; i < len; i++) {\n    fn(array[i], i)\n  }\n}\n\n_.toArray = function toArray (listLike) {\n  if (!listLike) {\n    return []\n  }\n\n  var list = []\n\n  for (var i = 0, len = listLike.length; i < len; i++) {\n    list.push(listLike[i])\n  }\n\n  return list\n}\n\n_.setAttr = function setAttr (node, key, value) {\n  switch (key) {\n    case 'style':\n      node.style.cssText = value\n      break\n    case 'value':\n      var tagName = node.tagName || ''\n      tagName = tagName.toLowerCase()\n      if (\n        tagName === 'input' || tagName === 'textarea'\n      ) {\n        node.value = value\n      } else {\n        // if it is not a input or textarea, use `setAttribute` to set\n        node.setAttribute(key, value)\n      }\n      break\n    default:\n      node.setAttribute(key, value)\n      break\n  }\n}\n","import _ from './util'\n\nfunction Element (tagName, props = {}, children = []) {\n  if (!(this instanceof Element)) {\n    if (!(children instanceof Array) && children !== null) {\n      children = children.slice(2).filter(i => i)\n    }\n\n    return new Element(tagName, props, children)\n  }\n\n  if (props instanceof Array) {\n    children = props\n    props = {}\n  }\n\n  \n  this.tagName = tagName\n  this.props = props\n  this.children = []\n  const { key = 666 } = this.props\n  this.key = key\n\n  let count = 0\n\n  this.children.forEach((child, index) => {\n    if (child instanceof Element) {\n      count += child.count\n    } else {\n      children[i] = child.toString()\n    }\n\n    count++\n  })\n\n  this.count = count\n}\n\nElement.prototype.render = function () {\n  const el = document.createElement(this.tagName)\n  const props = this.props\n\n  for (const propName in props) {\n    const propValue = props[propName]\n    _.setAttr(el, propName, propValue)\n  }\n\n  this.children.forEach((child) => {\n    let childEl\n\n    if (child instanceof Element) {\n      childEl = child.render()\n    } else {\n      childEl = document.createTextNode(child)\n    }\n    el.appendChild(childEl)\n  })\n\n  return el\n}\n\nexport default Element\n","import Element from './lib/element'\n\nconst el = Element\n\nconst element = el('div', {'id': 'container'}, [\n    el('p', {'id': 'p1'}, [\n        'pppppppp'\n    ])\n])\n\nconsole.log(element)\n"],"names":["_","exports","type","obj","Object","prototype","toString","call","replace","isArray","list","slice","arrayLike","index","Array","truthy","value","isString","each","array","fn","i","len","length","toArray","listLike","push","setAttr","node","key","style","cssText","tagName","toLowerCase","setAttribute","Element","props","children","filter","count","forEach","child","render","el","document","createElement","propName","propValue","childEl","createTextNode","appendChild","element","console","log"],"mappings":"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"}