{"version":3,"file":"bundle.js","sources":["../src/设计模式/职责链模式/预售订单/index.js"],"sourcesContent":[";const Chain = function(fn) {\n  this.fn = fn;\n  this.successor = null;\n};\n\nChain.prototype.setNextSuccessor = function(successor) {\n  return this.successor = successor;\n}\n\nChain.prototype.passRequest = function() {\n  const ret = this.fn.apply(this, arguments)\n  if (ret === 'nextSuccessor') {\n    return this.successor && this.successor.passRequest.apply(this.successor, arguments);\n  }\n  return ret;\n};\n\nconst order500 = function (orderType) {\n  if (orderType === 500) {\n      console.log('已预付500定金，享有100优惠券')\n  } else {\n    return 'nextSuccessor'\n  }\n} \n\nconst order200 = function (orderType) {\n  if (orderType === 200) {\n    console.log('已预付200定金，享有50元优惠券')\n  } else {\n    return 'nextSuccessor'\n  }\n} \n\nconst chainOrder500 = new Chain(order500)\n\nconst chainOrder200 = new Chain(order200)\n\nchainOrder500.setNextSuccessor(chainOrder200)\n\nchainOrder500.passRequest(200)"],"names":["Chain","fn","successor","prototype","setNextSuccessor","passRequest","ret","apply","arguments","order500","orderType","console","log","order200","chainOrder500","chainOrder200"],"mappings":";;;EAAC,IAAMA,KAAK,GAAG,SAARA,KAAQ,CAASC,EAAT,EAAa;EAC1B,OAAKA,EAAL,GAAUA,EAAV;EACA,OAAKC,SAAL,GAAiB,IAAjB;EACD,CAHA;;EAKDF,KAAK,CAACG,SAAN,CAAgBC,gBAAhB,GAAmC,UAASF,SAAT,EAAoB;EACrD,SAAO,KAAKA,SAAL,GAAiBA,SAAxB;EACD,CAFD;;EAIAF,KAAK,CAACG,SAAN,CAAgBE,WAAhB,GAA8B,YAAW;EACvC,MAAMC,GAAG,GAAG,KAAKL,EAAL,CAAQM,KAAR,CAAc,IAAd,EAAoBC,SAApB,CAAZ;;EACA,MAAIF,GAAG,KAAK,eAAZ,EAA6B;EAC3B,WAAO,KAAKJ,SAAL,IAAkB,KAAKA,SAAL,CAAeG,WAAf,CAA2BE,KAA3B,CAAiC,KAAKL,SAAtC,EAAiDM,SAAjD,CAAzB;EACD;;EACD,SAAOF,GAAP;EACD,CAND;;EAQA,IAAMG,QAAQ,GAAG,SAAXA,QAAW,CAAUC,SAAV,EAAqB;EACpC,MAAIA,SAAS,KAAK,GAAlB,EAAuB;EACnBC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;EACH,GAFD,MAEO;EACL,WAAO,eAAP;EACD;EACF,CAND;;EAQA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAUH,SAAV,EAAqB;EACpC,MAAIA,SAAS,KAAK,GAAlB,EAAuB;EACrBC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;EACD,GAFD,MAEO;EACL,WAAO,eAAP;EACD;EACF,CAND;;EAQA,IAAME,aAAa,GAAG,IAAId,KAAJ,CAAUS,QAAV,CAAtB;EAEA,IAAMM,aAAa,GAAG,IAAIf,KAAJ,CAAUa,QAAV,CAAtB;EAEAC,aAAa,CAACV,gBAAd,CAA+BW,aAA/B;EAEAD,aAAa,CAACT,WAAd,CAA0B,GAA1B;;;;;;"}